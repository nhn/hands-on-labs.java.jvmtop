
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="ko">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>5. jvmtop 실행 &#8212; jvmtop  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <link rel="index" title="색인" href="genindex.html" />
    <link rel="search" title="검색" href="search.html" />
    <link rel="next" title="6. 정리" href="99_summary.html" />
    <link rel="prev" title="4. jvmtop이란 ?" href="11_about_jvmtop.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="jvmtop">
<h1>5. jvmtop 실행<a class="headerlink" href="#jvmtop" title="제목 주소">¶</a></h1>
<div class="section" id="application-1">
<h2>5.1. 실습용 Application 실행 - 1<a class="headerlink" href="#application-1" title="제목 주소">¶</a></h2>
<ol class="arabic simple">
<li>파일 탐색기에서 C:\nhn_forward_lab\jvmtop 으로 이동하여 start_lock.bat 파일을 더블클릭하여 자바 애플리케이션을 띄운다.</li>
</ol>
</div>
<div class="section" id="jvmtop-sh">
<h2>5.2. jvmtop.sh 실행<a class="headerlink" href="#jvmtop-sh" title="제목 주소">¶</a></h2>
<ul class="simple">
<li>윈도에서는 jvmtop.bat 파일을 실행하면 된다.</li>
<li>윈도우즈가 아닌 모든 상황에서는 jvmtop.sh 파일을 실행하면 된다.</li>
</ul>
<p>단, 해당 사용자 계정에 JAVA_HOME 값이 설정되어 있어야만 정상적으로 수행한다.</p>
<ol class="arabic simple">
<li>커맨드 창을 새로 열어서 C:\nhn_forward_lab\jvmtop\jvmtop-0.9.0-SNAPSHOT 으로 이동한다.</li>
<li>jvmtop 을 실행한다.</li>
</ol>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> ./jvmtop.bat
<span class="go"> JvmTop 0.8.0 alpha - 12:20:51,  amd64,  4 cpus, Linux 2.6.32-64, load avg 0.00</span>
<span class="go"> http://code.google.com/p/jvmtop</span>

<span class="go">  PID MAIN-CLASS      HPCUR HPMAX NHCUR NHMAX    CPU     GC    VM USERNAME   #T DL</span>
<span class="go">29995 m.jvmtop.JvmTop   25m 1751m   10m  130m  1.83%  0.00% S6U26   i*****   28</span>
<span class="go"> 2943 artup.Bootstrap   52m 1751m   74m   n/a  1.52%  0.00% O8U12   i*****   42</span>
<span class="go">30054 outer.boot.Boot    7m 1751m   12m  130m  1.28%  0.00% S6U26   i*****   14</span>
<span class="go">14894 pm-server.jar    146m  910m   88m   n/a  0.89%  0.00% O8U12   i*****   55</span>
<span class="go">10929 artup.Bootstrap   49m 1820m   88m   n/a  0.47%  0.00% O8U12   i*****   56</span>
<span class="go">31254 agg.jar          444m 1751m   47m  130m  0.46%  0.00% O7U80   i*****   40</span>
<span class="go">16815 artup.Bootstrap   13m 1751m   35m  304m  0.44%  0.00% S6U26   i*****   31</span>
<span class="go">13067 artup.Bootstrap  147m  910m  206m 1072m  0.23%  0.00% S6U26   i*****   64</span>
<span class="go">20079 spring-boot.jar   29m  910m   83m   n/a  0.22%  0.00% O8U16   i*****   28</span>
</pre></div>
</div>
<ul class="simple">
<li>아무 옵션 없이 jvmtop을 실행하면 전체 자바 프로세스의 목록만 나타난다</li>
</ul>
</div>
<div class="section" id="id1">
<h2>5.3. 프로세스의 쓰레드 모니터링<a class="headerlink" href="#id1" title="제목 주소">¶</a></h2>
<ol class="arabic simple">
<li>jvmtop.bat &lt;pid&gt; 로 명령을 실행한다.</li>
</ol>
<ul class="simple">
<li>프로세스의 CPU를 점유하는 쓰레드를 모니터링하고 싶으면, jvmtop 의 명령어 가장 뒤에 pid(프로세스id)를 명시해 주면 된다</li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> ./jvmtop.bat <span class="m">2943</span>
<span class="go"> JvmTop 0.8.0 alpha - 12:33:40,  amd64,  4 cpus, Linux 2.6.32-64, load avg 0.00</span>
<span class="go"> http://code.google.com/p/jvmtop</span>

<span class="go"> PID 2943: org.apache.catalina.startup.Bootstrap</span>
<span class="go"> ARGS: start</span>
<span class="go"> VMARGS: -Djava.util.logging.config.file=/home1/irteam/apps/tom[...]</span>
<span class="go"> VM: Oracle Corporation Java HotSpot(TM) 64-Bit Server VM 1.8.0_121</span>
<span class="go"> UP: 404:43m #THR: 42   #THRPEAK: 42   #THRCREATED: 48   USER: irteam</span>
<span class="go"> GC-Time:  0: 0m   #GC-Runs: 19        #TotalLoadedClasses: 9600</span>
<span class="go"> CPU:  1.18% GC:  0.00% HEAP:  74m /1751m NONHEAP:  76m /  n/a</span>

<span class="go">  TID   NAME                                    STATE    CPU  TOTALCPU BLOCKEDBY</span>
<span class="go">     55 RMI TCP Connection(2)-10.161.6       RUNNABLE  1.65%     0.05%</span>
<span class="go">     56 JMX server connection timeout   TIMED_WAITING  0.11%     0.00%</span>
<span class="go">     48 http-nio-10424-AsyncTimeout     TIMED_WAITING  0.00%     3.49%</span>
<span class="go">     11 AsyncFileHandlerWriter-1229416  TIMED_WAITING  0.00%     4.86%</span>
<span class="go">     31 http-nio-10425-ClientPoller-0        RUNNABLE  0.00%     3.82%</span>
<span class="go">     32 http-nio-10425-ClientPoller-1        RUNNABLE  0.00%     3.79%</span>
<span class="go">     45 http-nio-10424-ClientPoller-0        RUNNABLE  0.00%     3.80%</span>
<span class="go">     34 http-nio-10425-AsyncTimeout     TIMED_WAITING  0.00%     3.50%</span>
<span class="go">     13 NioBlockingSelector.BlockPolle       RUNNABLE  0.00%     3.35%</span>
<span class="go">     14 NioBlockingSelector.BlockPolle       RUNNABLE  0.00%     3.42%</span>
</pre></div>
</div>
<ul class="simple">
<li>어떤 쓰레드가 CPU 를 가장 많이 사용하고 있는지 확인이 가능하다.</li>
</ul>
</div>
<div class="section" id="application-2">
<h2>5.4. 실습용 Application 실행 - 2<a class="headerlink" href="#application-2" title="제목 주소">¶</a></h2>
<ol class="arabic simple">
<li>현재 실행중인 실습용 애플리케이션 커맨드 창을 닫는다.</li>
<li>파일 탐색기에서 C:\nhn_forward_lab\jvmtop 으로 이동하여 start_cpu.bat 파일을 더블클릭하여 자바 애플리케이션을 띄운다.</li>
</ol>
</div>
<div class="section" id="id2">
<h2>5.5. 프로세스의 메소드 모니터링<a class="headerlink" href="#id2" title="제목 주소">¶</a></h2>
<ol class="arabic simple">
<li>jvmtop 을 실행하여 새로 실행한 애플리케이션의 pid 를 확인한다.</li>
<li>jvmtop.bat --profile &lt;pid&gt; 실행</li>
</ol>
<ul class="simple">
<li>프로세스의 CPU 를 점유하는 메소드를 모니터링하고 싶으면 --profile 옵션과 함께 pid(프로세스id)를 명시해 주면 된다</li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> ./jvmtop.bat --profile <span class="m">2943</span>
<span class="go">    JvmTop 0.8.0 alpha - 12:01:52, x86_64,  8 cpus, Mac OS X 10.12., load avg 6.65</span>
<span class="go">    http://code.google.com/p/jvmtop</span>

<span class="go">    Profiling PID 2943:               com.nhnent.CpuConsumerMain</span>

<span class="go">    79.43% (    11.52s) com.nhnent.cpu.InfiniteLoop.busyMethod()</span>
<span class="go">     7.71% (     1.12s) ....fasterxml.jackson.databind.util.ClassUtil.getEnclosi()</span>
<span class="go">     5.04% (     0.73s) ....fasterxml.jackson.databind.util.ClassUtil.hasEnclosi()</span>
<span class="go">     1.11% (     0.16s) ....fasterxml.jackson.databind.introspect.AnnotatedMetho()</span>
<span class="go">     0.88% (     0.13s) ....fasterxml.jackson.databind.ser.impl.ReadOnlyClassToS()</span>
<span class="go">     0.61% (     0.09s) ....fasterxml.jackson.databind.util.ClassUtil.getDeclare()</span>
</pre></div>
</div>
<ul class="simple">
<li>어떤 메소드가 가장 CPU 를 많이 점유했는지 확인이 가능하다.</li>
</ul>
</div>
<div class="section" id="application-3">
<h2>5.6. 실습용 Application 종료 - 3<a class="headerlink" href="#application-3" title="제목 주소">¶</a></h2>
<ol class="arabic simple">
<li>현재 실행중인 실습용 애플리케이션 커맨드 창을 닫는다.</li>
</ol>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">jvmtop</a></h1>








<h3>탐색</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="01_intro.html">1. 개요</a></li>
<li class="toctree-l1"><a class="reference internal" href="02_cpu_check.html">2. 프로세스 CPU 사용량 확인하기</a></li>
<li class="toctree-l1"><a class="reference internal" href="03_application_start.html">3. 애플리케이션 실행 및 CPU 사용량 확인</a></li>
<li class="toctree-l1"><a class="reference internal" href="11_about_jvmtop.html">4. jvmtop이란 ?</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">5. jvmtop 실행</a></li>
<li class="toctree-l1"><a class="reference internal" href="99_summary.html">6. 정리</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="11_about_jvmtop.html" title="이전 장">4. jvmtop이란 ?</a></li>
      <li>Next: <a href="99_summary.html" title="다음 장">6. 정리</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>빠른 검색</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="바로 가기" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, NHN Entertainment.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.11</a>
      
      |
      <a href="_sources/12_run_jvmtop.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>